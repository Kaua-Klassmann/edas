import{_ as C,u as z,r as c,q as L,l as m,c as d,a,b as u,y as h,F as _,h as b,v as y,n as M,i as E,o as n,t as f,p as F,k as H,m as N}from"./index-DtCymCa2.js";const r=v=>(F("data-v-60d3be5c"),v=v(),H(),v),R={class:"box p-3 bg-light rounded-3"},T=r(()=>a("h1",{class:"text-center"},"Registrar prova",-1)),j={class:"m-3"},q={class:"row"},A={class:"col-md-6"},G=r(()=>a("label",{for:"disciplina",class:"form-label px-2"},"Disciplina",-1)),J=["disabled"],K=["value"],O={class:"col-md-6"},Q=r(()=>a("label",{for:"turma",class:"form-label px-2"},"Turma",-1)),W=["disabled"],X=["value"],Y={class:"row"},Z={class:"col-md-6"},$=r(()=>a("label",{class:"form-label px-2",for:"dia"},"Data",-1)),aa=["disabled"],oa={class:"col-md-6"},ea=r(()=>a("label",{class:"form-label px-2",for:"horario"},"Horário",-1)),sa=["disabled"],ta=N('<option value="07:30" data-v-60d3be5c>07:30</option><option value="08:20" data-v-60d3be5c>08:20</option><option value="09:10" data-v-60d3be5c>09:10</option><option value="10:20" data-v-60d3be5c>10:20</option><option value="11:10" data-v-60d3be5c>11:10</option><option value="13:20" data-v-60d3be5c>13:20</option><option value="14:10" data-v-60d3be5c>14:10</option><option value="15:00" data-v-60d3be5c>15:00</option><option value="16:10" data-v-60d3be5c>16:10</option><option value="17:00" data-v-60d3be5c>17:00</option>',10),la=[ta],ia={class:"mb-3"},da=r(()=>a("label",{class:"form-label px-2",for:"descrição"},"Informações adicionais",-1)),na=["disabled"],ra={class:"div-botao p-3 mt-2"},ca=["disabled"],ua={class:"alinharLoading"},va=r(()=>a("div",{class:"spinner-border"},null,-1)),pa=[va],_a={__name:"InformarProva",props:["config"],setup(v){const I=v,k=z(),g=I.config,e=c({disciplina:0,turma:1,dia:"",horario:"07:30",descrição:""}),l=c([]),i=c(!0),p=c(!0),x=c(),w=c();L(()=>{P()});async function P(){[x.value,w.value]=await Promise.all([await m.get("disciplinasUsuario",g).then(t=>(e.value.disciplina=t.data[0].id,t.data)).catch(t=>t),await m.get("turmas").then(t=>t.data).catch(t=>t)]),i.value=!1,p.value=!1}async function V(){if(l.value=[],!e.value.dia){l.value.push("Data inválida!");return}if(e.value.descrição.length<3){l.value.push("Informações adicionais inválidas!");return}async function t(){p.value=!0;const{disciplina:s,turma:o,dia:S,horario:D,descrição:U}=e.value;await m.post("prova",{disciplina:s,turma:o,dia:S,horario:D,descrição:U},g).then(()=>{alert("Prova cadastrada com sucesso"),k.push("/VizualizarProvas")}).catch(B=>{B.response.status=="400"?l.value.push("Prova já cadastrada!"):l.value.push('"Desculpe, ocorreu algum erro durante o cadastro"!')}),p.value=!1}t()}return(t,s)=>(n(),d(_,null,[a("main",null,[a("div",R,[T,a("div",j,[a("div",q,[a("div",A,[G,u(a("select",{class:"form-select rounded-4",id:"disciplina",disabled:i.value,"onUpdate:modelValue":s[0]||(s[0]=o=>e.value.disciplina=o)},[(n(!0),d(_,null,b(x.value,o=>(n(),d("option",{key:o.id,value:o.id},f(o.nome),9,K))),128))],8,J),[[h,e.value.disciplina]])]),a("div",O,[Q,u(a("select",{id:"turma",class:"form-select rounded-4",disabled:i.value,"onUpdate:modelValue":s[1]||(s[1]=o=>e.value.turma=o)},[(n(!0),d(_,null,b(w.value,o=>(n(),d("option",{key:o.id,value:o.id},f(o.nome),9,X))),128))],8,W),[[h,e.value.turma]])])]),a("div",Y,[a("div",Z,[$,u(a("input",{class:"form-control rounded-4",type:"date",id:"dia",disabled:i.value,"onUpdate:modelValue":s[2]||(s[2]=o=>e.value.dia=o)},null,8,aa),[[y,e.value.dia]])]),a("div",oa,[ea,u(a("select",{class:"form-select rounded-4",id:"horario",disabled:i.value,"onUpdate:modelValue":s[3]||(s[3]=o=>e.value.horario=o)},la,8,sa),[[h,e.value.horario]])])]),a("div",ia,[da,u(a("textarea",{class:"form-control",id:"descrição",placeholder:"Ex: Conteúdo da prova",disabled:i.value,"onUpdate:modelValue":s[4]||(s[4]=o=>e.value.descrição=o)},null,8,na),[[y,e.value.descrição]])]),a("div",ra,[a("button",{class:"botao btn text-bg-dark rounded-4",disabled:i.value,onClick:V}," Confirmar ",8,ca)]),a("div",{id:"error",class:M(["error",{"alert alert-danger":l.value.length>0}]),role:"alert"},[(n(!0),d(_,null,b(l.value,o=>(n(),d("div",{key:o},f(o),1))),128))],2)])])]),u(a("div",ua,pa,512),[[E,p.value]])],64))}},ha=C(_a,[["__scopeId","data-v-60d3be5c"]]);export{ha as default};
