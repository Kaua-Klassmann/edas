import{_ as L,u as D,r as d,q as N,l as y,x as F,c as t,a as e,w as K,b as c,v as A,y as x,F as v,h as f,d as k,n as j,i as H,o as n,t as b,p as O,k as G}from"./index-DtCymCa2.js";const o=h=>(O("data-v-6698f1fc"),h=h(),G(),h),J={class:"box p-3 rounded-3"},Q=o(()=>e("h1",{class:"text-center mb-4"},"Criar conta",-1)),W={class:"row"},X={class:"col-md-6"},Y=o(()=>e("label",{class:"form-label px-2",for:"nome"},"Nome",-1)),Z=["disabled"],$={class:"col-md-6"},ee=o(()=>e("label",{class:"form-label px-2",for:"email"},"Email",-1)),se=["disabled"],ae=o(()=>e("label",{class:"form-label px-2",for:"cursos"},"Curso",-1)),oe=["disabled"],le=["value"],te={class:"row"},ne={class:"col-md-6"},ie=o(()=>e("label",{class:"form-label px-2",for:"anos"},"Ano",-1)),de=["disabled"],re=["value"],ue={class:"col-md-6"},ce=o(()=>e("label",{for:"turmas",class:"form-label px-2"},"Turma",-1)),ve=["disabled"],he=["value"],_e={class:"row mt-1"},me={class:"col-md-6"},pe=o(()=>e("label",{class:"form-label px-2",for:"senha"},"Senha",-1)),fe=["type","disabled"],be={key:0,xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16"},we=o(()=>e("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1)),ge=o(()=>e("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1)),ye=[we,ge],xe={key:1,xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-eye-slash",viewBox:"0 0 16 16"},Ce=o(()=>e("path",{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"},null,-1)),Me=o(()=>e("path",{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"},null,-1)),Se=o(()=>e("path",{d:"M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"},null,-1)),Ae=[Ce,Me,Se],ke={class:"col-md-6"},ze=o(()=>e("label",{class:"form-label px-2",for:"confirmar_senha"},"Confirmar senha:",-1)),qe=["type","disabled"],Be={key:0,xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16"},Ve=o(()=>e("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1)),Ue=o(()=>e("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1)),Ee=[Ve,Ue],Te={key:1,xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-eye-slash",viewBox:"0 0 16 16"},Ie=o(()=>e("path",{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"},null,-1)),Pe=o(()=>e("path",{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"},null,-1)),Re=o(()=>e("path",{d:"M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"},null,-1)),Le=[Ie,Pe,Re],De={class:"div-botao p-3 my-2"},Ne=["disabled"],Fe={class:"alinharLoading"},Ke=o(()=>e("div",{class:"spinner-border"},null,-1)),je=[Ke],He={__name:"CriarConta",setup(h){const z=D(),a=d({nome:"",email:"",curso:1,ano:1,turma:1,senha:"",confirmarSenha:""}),_=d("password"),m=d("password"),w=d(!1),g=d(!1),u=d([]),r=d(!0),p=d(!0),C=d(),M=d();N(()=>{q()});async function q(){[C.value,M.value]=await Promise.all([await y.get("cursos").then(i=>i.data).catch(i=>(alert("Erro"),i)),await y.get("turmas").then(i=>i.data).catch(i=>(alert("Erro"),i))]),r.value=!1,p.value=!1}const B=F(()=>a.value.curso==1?[1]:[1,2,3,4]);function V(){_.value=="text"?(_.value="password",w.value=!1):(_.value="text",w.value=!0)}function U(){m.value=="text"?(m.value="password",g.value=!1):(m.value="text",g.value=!0)}async function S(){if(u.value=[],a.value.nome.length<3){u.value.push("Nome inválido!");return}if(!a.value.email||a.value.email.split("@")[1]!="aluno.feliz.ifrs.edu.br"){u.value.push("Email inválido!");return}if(!a.value.senha||a.value.senha.length<6||!a.value.confirmarSenha||a.value.confirmarSenha.length<6||a.value.confirmarSenha!=a.value.senha){u.value.push("Senha inválida!");return}async function i(){p.value=!0;const{nome:l,email:s,senha:E,ano:T,curso:I,turma:P}=a.value;await y.post("usuario",{nome:l,email:s,senha:E,ano:T,curso:I,turma:P}).then(()=>{alert("Ative sua conta pelo email!"),z.push("/Login")}).catch(R=>{R.response.status=="422"?u.value.push("Email inválido!"):u.value.push("O email já está cadastrado!")}),p.value=!1}i()}return(i,l)=>(n(),t(v,null,[e("main",null,[e("div",J,[Q,e("div",{class:"px-3",onKeydown:K(S,["enter"])},[e("div",W,[e("div",X,[Y,c(e("input",{class:"form-control rounded-4",type:"text",id:"nome","onUpdate:modelValue":l[0]||(l[0]=s=>a.value.nome=s),disabled:r.value},null,8,Z),[[A,a.value.nome]])]),e("div",$,[ee,c(e("input",{class:"form-control rounded-4",type:"email",id:"email","onUpdate:modelValue":l[1]||(l[1]=s=>a.value.email=s),disabled:r.value},null,8,se),[[A,a.value.email]])])]),e("div",null,[ae,c(e("select",{class:"form-select rounded-4",id:"cursos","onUpdate:modelValue":l[2]||(l[2]=s=>a.value.curso=s),disabled:r.value},[(n(!0),t(v,null,f(C.value,s=>(n(),t("option",{key:s.id,value:s.id},b(s.nome),9,le))),128))],8,oe),[[x,a.value.curso]])]),e("div",te,[e("div",ne,[ie,c(e("select",{class:"form-select rounded-4",id:"anos","onUpdate:modelValue":l[3]||(l[3]=s=>a.value.ano=s),disabled:r.value},[(n(!0),t(v,null,f(B.value,s=>(n(),t("option",{key:s,value:s},b(s)+"°Ano ",9,re))),128))],8,de),[[x,a.value.ano]])]),e("div",ue,[ce,c(e("select",{class:"form-select rounded-4",id:"turmas","onUpdate:modelValue":l[4]||(l[4]=s=>a.value.turma=s),disabled:r.value},[(n(!0),t(v,null,f(M.value,s=>(n(),t("option",{key:s.id,value:s.id},b(s.nome),9,he))),128))],8,ve),[[x,a.value.turma]])])]),e("div",_e,[e("div",me,[pe,c(e("input",{class:"form-control rounded-4",type:_.value,id:"senha","onUpdate:modelValue":l[5]||(l[5]=s=>a.value.senha=s),disabled:r.value},null,8,fe),[[k,a.value.senha]]),e("div",{id:"passwordReveling",onClick:V},[w.value?(n(),t("svg",be,ye)):(n(),t("svg",xe,Ae))])]),e("div",ke,[ze,c(e("input",{class:"form-control rounded-4",type:m.value,id:"confirmar_senha","onUpdate:modelValue":l[6]||(l[6]=s=>a.value.confirmarSenha=s),disabled:r.value},null,8,qe),[[k,a.value.confirmarSenha]]),e("div",{id:"passwordReveling",onClick:U},[g.value?(n(),t("svg",Be,Ee)):(n(),t("svg",Te,Le))])])]),e("div",De,[e("button",{class:"botao btn text-bg-dark rounded-4",onClick:S,disabled:r.value}," Criar conta ",8,Ne)]),e("div",{id:"error",class:j(["error",{"alert alert-danger":u.value.length>0}]),role:"alert"},[(n(!0),t(v,null,f(u.value,s=>(n(),t("div",{key:s},b(s),1))),128))],2)],32)])]),c(e("div",Fe,je,512),[[H,p.value]])],64))}},Ge=L(He,[["__scopeId","data-v-6698f1fc"]]);export{Ge as default};
